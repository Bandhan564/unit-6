<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        input{
            width: 200px;
           height: 20px;
        }

        #movies{
            border: 1px solid black;
            height: 200px;
            width: 206px;
            margin-top: 10px;
            overflow: scroll;
        }
    </style>
</head>
<body>
    <input oninput="debounce(searchMovie,1000)" type="text" id="movie">

    <div id="movies"></div>
</body>
</html>
<script>
  let id;
let movies_div = document.getElementById('movies')

  async function searchMovie(){
      try{
           let movie = document.getElementById("movie").value;
        
           if(movie.length<=2){
               return false
           }
      let response = await fetch(`http://www.omdbapi.com/?apikey=b4769e7c&s=${movie}`)

      let data = await response.json();
    //   console.log('data:',data);

      let movies_arr= data.Search
      console.log(movies_arr);
      appendMovies(movies_arr)
      }
      catch(error){
          console.log('error:',error);
      }

      }
     
      function appendMovies(movies){
       movies_div.innerHTML=null

       if(movies===undefined){
           return false
       }
        movies.forEach(function(elem){

            let p= document.createElement('p');
            p.innerText= elem.Title

            movies_div.append(p)
        })

      }


      // typig speed
      

    function debounce(func,delay){

        if(id){
            clearTimeout(id)
        }
         id = setTimeout(function(){
            func()
        },500)

    }

      

</script>